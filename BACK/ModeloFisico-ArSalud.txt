CREATE DATABASE Ar_Salud;
USE Ar_Salud;

CREATE TABLE Marca (
    id_marca INT PRIMARY KEY,
    nombre VARCHAR(50)
);

CREATE TABLE Producto (
    id_producto INT PRIMARY KEY,
    id_marca INT,
    nombre VARCHAR(50),
    descripcion VARCHAR(100),
    precio DECIMAL(10, 2),
    FOREIGN KEY (id_marca) REFERENCES Marca(id_marca)
);

CREATE TABLE Categoria (
    id_categoria INT PRIMARY KEY,
    nombre VARCHAR(50)
);

CREATE TABLE ProductoCategoria (
    id_productoCategoria INT PRIMARY KEY,
    id_producto INT,
    id_categoria INT,
    FOREIGN KEY (id_producto) REFERENCES Producto(id_producto),
    FOREIGN KEY (id_categoria) REFERENCES Categoria(id_categoria)
);

CREATE TABLE EstadoEnvio (
    id_estadoEnvio INT PRIMARY KEY,
    nombre VARCHAR(50),
    descripcion VARCHAR(100),
    codigo_rastreo VARCHAR(20)
);

CREATE TABLE Envio (
  id_envio INT PRIMARY KEY,
  id_estadoenvio INT,
  direccion_envio VARCHAR(255),
  ciudad_envio VARCHAR(255),
  fecha_envio DATE,
  FOREIGN KEY (id_estadoenvio) REFERENCES EstadoEnvio(id_estadoenvio)
);

CREATE TABLE Pago (
  id_pago INT PRIMARY KEY,
  metodo_pago VARCHAR(255),
  estado_pago VARCHAR(255),
  fecha_pago DATE
);

CREATE TABLE Usuario (
  id_usuario INT PRIMARY KEY,
  correo VARCHAR(255),
  password VARCHAR(255)
);

CREATE TABLE Cliente (
  id_cliente INT PRIMARY KEY,
  id_usuario INT,
  nombre VARCHAR(255),
  apellido VARCHAR(255),
  direccion VARCHAR(255),
  telefono VARCHAR(15),
  fecha_nacimiento DATE,
  FOREIGN KEY (id_usuario) REFERENCES Usuario(id_usuario)
);

CREATE TABLE Pedido (
  id_pedido INT PRIMARY KEY,
  id_cliente INT,
  id_pago INT,
  id_envio INT,
  estado VARCHAR(255),
  fecha DATE,
  total DECIMAL(10, 2),
  FOREIGN KEY (id_cliente) REFERENCES Cliente(id_cliente),
  FOREIGN KEY (id_pago) REFERENCES Pago(id_pago),
  FOREIGN KEY (id_envio) REFERENCES Envio(id_envio)
);

CREATE TABLE ProductoPedido (
    id_productoPedido INT PRIMARY KEY,
    id_pedido INT,
    id_producto INT,
    cantidad INT,
    descripcion VARCHAR(100),
    FOREIGN KEY (id_pedido) REFERENCES Pedido(id_pedido),
    FOREIGN KEY (id_producto) REFERENCES Producto(id_producto)
);

CREATE TABLE Carrito (
  id_carrito INT PRIMARY KEY,
  id_cliente INT,
  fecha_creacion DATE,
  FOREIGN KEY (id_cliente) REFERENCES Cliente(id_cliente)
);
CREATE TABLE CarritoProducto (
    id_carritoProducto INT PRIMARY KEY,
    id_carrito INT,
    id_producto INT,
    cantidad INT,
    descripcion VARCHAR(100),
    FOREIGN KEY (id_carrito) REFERENCES Carrito(id_carrito),
    FOREIGN KEY (id_producto) REFERENCES Producto(id_producto)
);

CREATE TABLE comentario (
  id_comentario INT PRIMARY KEY,
  id_cliente INT,
  comentario TEXT,
  FOREIGN KEY (id_cliente) REFERENCES Cliente(id_cliente)
);

SHOW TABLES;
